import React, {useRef, useEffect } from 'react'
import {gsap} from 'gsap'


const Compass = ({ addAnimation, x,  index }) => {
    const ref = useRef();

    useEffect(() => {  
        const animation = gsap.to(ref.current, { 
            x: `${x}rem`, 
            ease:'back', 
            duration:1.3, 
        });
        addAnimation(animation, index);
        return () => animation.progress(0).kill();
        
    }, [addAnimation]);

    return (
        <svg 
            width={51}
            height={51}
            viewBox="0 0 51 51" 
            fill="none" 
            filter="url('#inset-shadow')"
            ref={ref}
            className={'shape'}
        >
            <g clip-path="url(#clip0_6_249)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M25.4475 0.447479C20.503 0.447479 15.6695 1.9137 11.5583 4.66074C7.44704 7.40777 4.24272 11.3122 2.35053 15.8804C0.458342 20.4485 -0.0367416 25.4752 0.927889 30.3247C1.89252 35.1743 4.27354 39.6288 7.76985 43.1251C11.2662 46.6215 15.7207 49.0025 20.5703 49.9671C25.4198 50.9317 30.4465 50.4367 35.0146 48.5445C39.5828 46.6523 43.4872 43.448 46.2343 39.3367C48.9813 35.2255 50.4475 30.392 50.4475 25.4475C50.4444 18.818 47.8095 12.461 43.1218 7.77322C38.434 3.08548 32.077 0.450571 25.4475 0.447479ZM25.4475 3.78081C29.7328 3.78081 33.9218 5.05154 37.4849 7.4323C41.0479 9.81307 43.825 13.1969 45.4649 17.156C47.1048 21.1151 47.5339 25.4715 46.6979 29.6744C45.8619 33.8774 43.7983 37.738 40.7682 40.7681C37.738 43.7983 33.8774 45.8618 29.6745 46.6978C25.4716 47.5338 21.1151 47.1048 17.156 45.4649C13.197 43.825 9.81311 41.0479 7.43235 37.4848C5.05158 33.9218 3.78085 29.7327 3.78085 25.4475C3.7835 19.7019 6.06709 14.1925 10.1298 10.1298C14.1925 6.06704 19.702 3.78346 25.4475 3.78081Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M23.7809 2.11415V5.44748C23.7809 5.88951 23.9564 6.31343 24.269 6.62599C24.5816 6.93855 25.0055 7.11415 25.4475 7.11415C25.8895 7.11415 26.3135 6.93855 26.626 6.62599C26.9386 6.31343 27.1142 5.88951 27.1142 5.44748V2.11415C27.1142 1.67212 26.9386 1.2482 26.626 0.935635C26.3135 0.623074 25.8895 0.447479 25.4475 0.447479C25.0055 0.447479 24.5816 0.623074 24.269 0.935635C23.9564 1.2482 23.7809 1.67212 23.7809 2.11415Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M27.1142 48.7808V45.4475C27.1142 45.0054 26.9386 44.5815 26.626 44.269C26.3135 43.9564 25.8895 43.7808 25.4475 43.7808C25.0055 43.7808 24.5816 43.9564 24.269 44.269C23.9564 44.5815 23.7809 45.0054 23.7809 45.4475V48.7808C23.7809 49.2228 23.9564 49.6468 24.269 49.9593C24.5816 50.2719 25.0055 50.4475 25.4475 50.4475C25.8895 50.4475 26.3135 50.2719 26.626 49.9593C26.9386 49.6468 27.1142 49.2228 27.1142 48.7808Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M48.7809 23.7808H45.4475C45.0055 23.7808 44.5816 23.9564 44.269 24.269C43.9564 24.5815 43.7809 25.0054 43.7809 25.4475C43.7809 25.8895 43.9564 26.3134 44.269 26.626C44.5816 26.9385 45.0055 27.1141 45.4475 27.1141H48.7809C49.2229 27.1141 49.6468 26.9385 49.9594 26.626C50.2719 26.3134 50.4475 25.8895 50.4475 25.4475C50.4475 25.0054 50.2719 24.5815 49.9594 24.269C49.6468 23.9564 49.2229 23.7808 48.7809 23.7808Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.44751 23.7808H2.11418C1.67215 23.7808 1.24823 23.9564 0.935665 24.269C0.623104 24.5815 0.44751 25.0054 0.44751 25.4475C0.44751 25.8895 0.623104 26.3134 0.935665 26.626C1.24823 26.9385 1.67215 27.1141 2.11418 27.1141H5.44751C5.88954 27.1141 6.31346 26.9385 6.62602 26.626C6.93858 26.3134 7.11418 25.8895 7.11418 25.4475C7.11418 25.0054 6.93858 24.5815 6.62602 24.269C6.31346 23.9564 5.88954 23.7808 5.44751 23.7808Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M38.1692 14.9241C38.306 14.6163 38.3464 14.2742 38.2849 13.9429C38.2234 13.6117 38.063 13.3068 37.8247 13.0686C37.5865 12.8304 37.2817 12.6699 36.9504 12.6084C36.6192 12.5469 36.277 12.5873 35.9692 12.7241L20.4692 19.6175C20.0921 19.7847 19.7904 20.0857 19.6225 20.4625L12.7308 35.9625C12.594 36.2703 12.5536 36.6125 12.6151 36.9437C12.6766 37.275 12.8371 37.5798 13.0753 37.818C13.3135 38.0563 13.6184 38.2167 13.9496 38.2782C14.2809 38.3397 14.623 38.2993 14.9308 38.1625L30.4308 31.2708C30.8082 31.1032 31.1099 30.8015 31.2775 30.4241L38.1692 14.9241ZM33.3625 17.5308L28.4908 28.4925L17.5308 33.3641L22.4025 22.4025L33.3625 17.5308Z" fill="white"/>
            <path d="M25.4475 27.5191C26.5917 27.5191 27.5192 26.5916 27.5192 25.4475C27.5192 24.3033 26.5917 23.3758 25.4475 23.3758C24.3034 23.3758 23.3759 24.3033 23.3759 25.4475C23.3759 26.5916 24.3034 27.5191 25.4475 27.5191Z" fill="white"/>
            </g>
            <defs>
            <clipPath id="clip0_6_249">
            <rect width="50" height="50" fill="white" transform="translate(0.44751 0.447479)"/>
            </clipPath>
            </defs>
        </svg>
        
    )
}

export default Compass
